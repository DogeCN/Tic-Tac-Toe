from PySide6.QtWidgets import QApplication, QMainWindow, QWidget, QGridLayout, QPushButton
from PySide6.QtGui import QIcon
from PySide6.QtCore import qRegisterResourceData
from random import choice

qt_resource_data = b"\
\x00\x00\x16\x11\
\x00\
\x01\x08>x\xda\xed]\x0dhT\xc7\x16^5\xc4\x10\
l\x0c!\x88\x15\xb1ADD$\x88\x88H\x90(\x92\
J\x10\xb1\x22\xf2\xb0\x22\xa5X\x11\x91 \xadH\x91\xd4\
6\xb6A\x1e\xb6\x15\xb1\xd2Jx<D\xac\x88\x88\x14\
+V\xc4\xb6*j\xab\x15\xb5i\xaaiL\xf3\xd74\
\x8dq\x93&k\xb2\xee\xae\x9b\xf5\xbe\xef\xdb\x9c\x9bw\
\xb3\xdd\xff\x9d\xdc\xdd\xe4\xde\x91\xcf\xcd\xdc\xdd\xbd{g\
\xbe33gf\xce9\xe3pL\xc0\xbf}\xfb\x1c\xf8\
\xbf\xc81/g\x82c\x9a\xc3\xe1\x98\x07\xe0\x12/\x06\
\xaf\x0f\xa5\x09\x0e;\x99\x9b\x06\x07\x07'\x06\x02\x81,\
\xbe\xda\xb5\x11=\xbdx\xf1b\x220\x05\x98\x06\xcc\x02\
\x8a\x80\x99@\x01\x90\xc3\xf7\xc7B9\xc0w\x0eP\x08\
\xcc\x06\x16\x02\x8b\xe5u.0\x0d\xc8\xb5\xd9\x1eQ_\
YR/K\x80\xcd\xe0y/p\x088\x0c\x1c\x00v\
\x02\xab\x81\xb9\x94\x0f|fb\x86\x96#\x1b\x98\x09\x94\
\x03\xef\x025\xc0Y\xe0\x1cp\x1a8\x0a\xec\x96\xf7g\
\xdbr\x10\xac\xb3\x5ci\x1bo\x83\xdb\xb3\xc0M\xe0\x0e\
pW^\x7f\xc4{\xd7\xf0z\x068\x08\xac\x01f\x00\
Y\x19X\x8e\x12\xe0\xdfx\xb6\xeb@\x03\xd0\x01t\x09\
\xf8w\x03\xde\xbf\x0d\x5c\x00>\x04\x96\x01\xf9\x16\xe6\x9e\
m\xb9\x0c8\x86\xba\xa9\x03Z\x80N\xa0\x07\xe8\x95\xd7\
N\xb9^\xc7\xba\xc3\xeb)`\x9b\x8c\x0dY\x19\xc4\xfd\
\x1a\x91\xdfv\xc0\x05\xf4GA;>\x7f\x078.}\
A\xbe\x05\xb9\xe7\x18Y\x86\xba8g\xa83\x0f\xe0\xd3\
\x81\xf7}~\xbf?\xc0W\x91\x87v\x91\x93\xf3\x22\x03\
\xd3\xd3=\x16p\xec\xc2s\xb0\x1c\x17\xe5\x19\xfbq\xcd\
\xfd\xfc\xf9s?t>\x9f\x94\xc9\x08\xb7\x80\x9f}\x80\
\xcf\x9e\x02JY\x1f\x16\xe3\x7f\x81\xb4eg\x08\xefA\
\xc2QwZ\x18\xf0-~\xbe^\xdaZ9\xf5\xc24\
\xeb\xac\xd4INP~\xf1l\x1e\xc8\xab\xa6\xc3\xf8\xdc\
F\xb96\xc8\x02\xbfC\x198H}\xc0B\xdc\xe7\x03\
{\x84{#\xefZ,\xb0>=\x1e\x8f\xe6\xf5z[\
\x90\xa7\x8eX\x94\xae>\x00\xbf\x9d\x8b\xe7\xd8\x01\xb8B\
\xf8\x0e\xfb\xdcr\xdd\x1f\x22\x07\xbd\xb8v\x1fXg\x95\
>\x00e^B\xbdN\xe7=^\xeeCe\xa0\xb1\xb1\
\x91\xf9\x95\xe9\xd2\x03\xdcn\xf7\x1c>\x83\xce}\x22\xcf\
/\xe5\xd6\xe5\xa0\x03\xd7\x0fp\x0ed\x85q\x1f\xe5\xad\
\x90\xf1\xde/`\xbf\xce:\x89\x09\xbd\x0eY\xe7\x03\x03\
\x03\xda\x93'OvsN\x98\x86rL|\xf8\xf0\xe1\
N\xc8\xc0?\xb8\x8f\xf5\xec\xf2\x99\x80\xa1\xfc\xd4\x19.\
\x02\xf3,\xd0\xf6\xa7\x03\xc7D\xee\x03\x02-Q\xb0\x0e\
}>\x9f\xd6\xdc\xdc\xdc\x86|a\x1a\xca\x91\x83\xdfn\
\x80\x9e\x17\x93\xf7p\xcfn(\xbb_t]\xceo\x96\
Z\x80\xff\xf92?\xf6\xa7\xc2?\xc1v\xf7\xf8\xf1c\
\xad\xb5\xb5u\x96\xd9\xe5@\xff3\xa5\xb3\xb3s\xb8\xed\
'Y\x86a\x19\xc0=\xa8\xcf\x94Y\x80\xff\x12Y\x1b\
I\x89{\xbd\x1d\xfd\xfd\xf7\xdf\xda7\xdf|\xb3\xd3\xec\
r\xf4\xf5\xf5\x15\xf2\xb7S\xe0\xde\xc8?\xc7\xbfN\xae\
!X\x80\xff2\x99\xc7\xa7\xc4\xbd\xce\xff\xd3\xa7O\xb5\
[\xb7nif\x97\x03m\x7f\x0e\x7f;E\xfe5\x03\
\xffN`\xbd\x05\xf8_%k\xa1J\xf8\xa7\x0eX_\
_\xaf\xbd\xfa\xea\xab\xa6\x8e\x9d]]]\xab\xa8\xfb)\
\xe0_\x13\xfe{\x80\x7fY@\xff_)\xfck*\xf8\
\x7f\xf6\xec\x99\xf6\xfb\xef\xbfk\xe5\xe5\xe5\xa6\xce\x9dz\
zz\xf6p\x0e\xaa\x90\x7f\xae\x03l\xb2\x00\xff\xa5\xd2\
\xff+\xe1\xdf\xeb\xf5j\x8f\x1e=2\xbd\xffG\xdf\x7f\
\x8a\xbf\xad\x82\xff\xc0P\xe2Z\xe0\x1b\x16\xe0\x9f{d\
-\xaa\xf8\xe7\x1c\xb0\xa1\xa1\xe1\x934\xac\xfd\xb4\xe8s\
?E\xfc\xb3\xff\xdfh\x01\xfe\xb9\xc7\xdf\xa4B\xf7'\
\xc8\x01\xfa\xff\x05f\x97\x83m\x9fkP\x89\xce\xfd#\
\x94\xc32\xfa\x9f\xf0\xcf}\xf0@\xaa\xdc\xeb\xeb\x80\xd0\
\xc5L_7\xa7\xdc\xc5\xbb\xee\x17G9\x98\xb8\x06\x5c\
n\x01\xfei\x0bU/eN\x89{}-\x9d{\xb0\
f\x96\xe1\xfe\xfd\xfbY\xc6\xb6\x9f\xa8\x0c\x84\xf9^@\
\xd6\x7fJ-\xc0\xff\x22#\xff)\xd6\x1bq\xc1\xec\xfd\
\x9f_\x7f\xfd57\x9e\xfd\x9e8\x9f_\xe7\x9f}\xe2\
b\x0b\xcc\xff\xc3\xf2\x9fD\x9d\xe9\x9f\xdf\x93\x06\xfeg\
$\xb2\xdf\x17\x07\x98h\xd7\xb2\xd0\x0a\xfc\x8b\xddK@\
Q\xdd\x9d7\x9b\xff\xba\xba\xba\xa5\xaa\xf9G\x19j\x81\
b\x9b\xff\xc4\x01.L\xe5\xbf\xb6\xb6v\xcb(\xf0O\
\xdb\xc6y6\xff\xf1C\x1f\x1f\xea\xeb\xebM\xb5\xa3\x86\
\xfeW#6\x1cq\x8dQq\x94\x83\xfc_\x01f[\
\x84\xff:\x15\xedF\xaf\xfbs\xe7\xce-2\xb3\x0c\xb7\
n\xdd\xaa5\xf2\x9f\xaa\x0c\x08\xff\xd4cgZ\x80\xff\
\x85*\xf87\xda\x00\x9c8q\xe2\xa4\x99e\xb8~\xfd\
zp\xdd!Q]5JY\xfc\xe2\xdf0\xdd\x0a\xfc\
\x8b\xadK\xd2\xf5\x16j\x03RSS\xa3\xbd\xf4\xd2K\
\x09\xd9\x80j\x9aF_\xb3,\xf1+\xcb\x05\xf2\x04\xf9\
\x04\xde\x0f\xc2\x98\xe7\xeb/\xbf\xfcR\xf8\xfd\xf7\xdf\x87\
\xe5?\x91\xf2\x84\xb1\x05\xba\x82\xdf\xd8\x06\xbcA O\
l\x04\xd6\x8b\xcfK\xb9\xec\x9d/\x03\xb8\x86\xb2@|\
\x88h\x03\x9f'\xbeG\xa6\xd9\xc1z<\x9e\x89_|\
\xf1E\xe1;\xef\xbcs\xe0\xe8\xd1\xa33\x90g=\xf2\
\x19\xb2Y\xaf(CV\xb8\xe7\xe1s\x8b\xddf2s\
\xbd\xb0\xdf9y\xf2\xa4VRR\xa2\xadX\xb1\xa2\x04\
\xb2\x90?00\x90\x87\xdf/0\xf8\x11\xceG~\x09\
P\x06\xac\x93:\xde\x01\xbc\x0b|\x08|\x02\x1c\x01\x8e\
\x0aj\x80\xff\x84\x80\xd7j\x1e?~|\xa6\xb9\xb9Y\
\xd5\xbe\xdf0\x90<\x80K\xec\x22u\xe8>0\xf4\x1f\
\xea\x945\xc2\x16\x99?\xdf\x05\xae\x88_\xd9!`\x17\
\xf7\x0f\x80U\xe2W\xc4vF\xdb\xe8\x02U\xebc\xbc\
\x8f\xd7\xeb\x9d\xd1\xd5\xd5\xb5\xa9\xb7\xb7\xf7\x0e8\xaf\xf3\
\xf9|\xf5@'\xae\xd3\xe7\x816\x8c\x1f\xe2Yw\x89\
\xcf^\x85\xf8il\xc1{[\x9dN\xe7\xe1?\xff\xfc\
3\xb8g\xa7\xb2\xeeh\x87\xd1\xd1\xd1\xa1\xfd\xf5\xd7_\
A{\xb0'O\x9e\xd0.\xc8\x83\xeb\xceg\xcf\x9eq\
\x9f\xa6\x09\xfdD\x8b\xec;\xf7\xb0\x9e\x017\xe0\x03\xfc\
\x89@\x1f\xf7\xf5\xa4\xb2\x1cF{\xa0\x10\xdb\xa0H\xc9\
/\xa0\xfd\xa0[\xf6\x10\xdaD>~\x14\xd9\xa8\x14\x1f\
\xab\xe9\xa9\xf8 \xa3>gtww\xefG\xbf\xd7\x22\
r\xe9\x0b\xb1\xe1\x0b\x84)\x8b\xee\xe7\xa0\xa5\x0b\x09\xa6\
@\x18DM\xa3\xf5\xdcq\xac\x17\xfdC\x16\x0c\xf6\xc4\
F\xdf\x02\xca\xc35\xfa[\x00\xc5\x89\xfa\x18\xd0\xe7\xfa\
\xd2\xa5K;\xdcn7e\xca\x15\x8e\xf3x\xead\xb4\
\xebK\x01\xf7I'\x15\xcf\x99\xac.\x19\xc9\x9eT\xa0\
\xfb\x9b\xf5J\x9fpX\xf6\xdf\xb2\x13\xd8\xe7\x9e\x8f>\
\xb4Q\xee3\x82\xfbXu\x92\x8evc6\xf7\xa9\x96\
'\xd2\xf7\x93\xe0>\xd2\xbe\xa2\xcf\xe0o\xd8 \xbef\
\xf3\xe3\xd1\x15\xa9?\xf5\xf7\xf7\xd3G\xd5\x1dO\xbb7\
\xb3\xcdd\x12\xf7\xc9\x96+\xd2\xf7R\xe1>\xf4\xfb\xd4\
Wh##\xfad\x8f\xcc\xbd+\x18\x9f\x22\x06\xf7\xd4\
\xdf\xcb\xf1\xfd\x1e\xa3\x9f\x8e\x0a\xee\xc73\xff\xb1\xca\x17\
\xcf\xe7S\xe5\xdfx\x0f\xf2/{\xd5z\x1f\xc0\xb9\x04\
\xe3Q,\x89\xa6\x0fr-\x02z\xfa\x7f\x22\xe9y6\
\xff\xa3#/*\xb8\x0f\xd7\x07\xd0^E\xfa\x00\xa7\x8c\
\x03\xdb\x18\x7f!\xda:-\xfa\x8d\xae0m?\x90\xc9\
z\x93\xcd\x7f\xd4>\xa0_\xf8\xef\x90\xf8:3\x22\xf5\
\xfd\x98;o\xc0\xf7\xfaC\xf9\x8fG\xb7K\xa7\xde4\
V\x93\x19\xfc\xa3\x0f\x08\x88\x0e@\xfe\xcfD\xf27\xe5\
\xfc\xe0\xa7\x9f~\xfa\xafA\xef\xf3\xabn\xfb\xa9\xc8@\
\xb4{\x8ce\xee\x93]\x03\x8d\x97\x7f\xea\x81\xb43\x16\
\xfe/F\xb27!\xff\x98\xf7\xed`<\x0b3\xf8\x8f\
W\x0e\xe2\xf9\xae\xcd\x7ft\xfe=\x1e\x8f[\xf8\xbf\x10\
\xc9\xdeDb\xdal\xc4\xf7\xdc\xa3\xa1\xfb\x8fv\x1d\xda\
\xfc\x87\xe7\x9f\xeb\xee2\x9f#\xff'\x819Q\xf4\xbf\
\x95\xf8\xec\x83d\xf97\x9b\x87\xf1\xc2\xbf*\x19\x08\xd5\
\xffu\xfee\xfe\xc7\x98\x09\xfb\xb9\xbe\x13\x85\xff\xb9\x12\
\x9fiT\xe6\x7f\xa3Y\x7f6\xff\xe1\xe7\x7fxuI\
<=\xc6\xcf\xda\x10m/@\xf6\xc2w\x18\xd6\x7f\xc6\
\x0c\xffcM\x06\x12\xdd\xffIv\xec\x97\xb9_\xbb\xc4\
_\x99\x17\xc7\xfa/\xf7\x8b\xce\x18\xf6\x96\x94\xac\xfd\xdb\
\xfc\xa7\xc6\x7f\xa2\xeb\xbfl\xfb\x80[\xda>\xedL\xe3\
\x8a5&\xb61k%&\xab;\x9e> \x1d\xf5?\
\xd6\xd7\x01\x93\xb5#Jd\xdcG\xbeKl\xcc\xb7G\
\x1b\xf7\xc3\xc8@\xbe\xd8!]\x93\xf5C\xb7\x1e\xbb)\
S\xc6\xe1t\xac\x07\x9b\xb9\x06\x16\xaf\x0c\x84\xe3\x9e\xfd\
>\xe6\xf2=b_\xbc5\xd2\x9a_\x0c\x19\xc8\x13\xdb\
3\xee\x074J\x0c[\xda+\x05\xedgD\x16\x02\xe9\
\xe0\x22\x89u#>s/\xd0\x0e4\x00\xb5\xc0m\xe0\
\xbe\xc4\x19\xee7s\xaf!Y\xfb\xd1\xd0\xd8\xa8!\xeb\
|\xe4\xdd\x87W\xda~\xdc\x94\x18\xea\xe4/?\x05\xbb\
M\xdaK\xce\x16{\xc4\x03\x12\x83\xf7\xb6\xf4)\x0f\x04\
u\x82\x07\xa2cRV\xda\xf0\x5c\xb4\x0fs\x0d\x0c\x0c\
\x04\xfa\xfb\xfb\x831;T\xc9\x02\xef\xc32\xf7\xf4\xf4\
\x04m\xbfh\x07\xd6\xd9\xd9\xe9B\xbe\x1e\xbf\xf7\x1d\xea\
\x80\xf1u?\x97\xf9\xce\xdbbW\xb9\x16_]\xa1\x0d\
\xd9\x04\x16S\x17b\xd9\xf0\xf7,9o`&\xeeY\
\xd4\xd7\xd77\x1f\xf7[\xd5\xd6\xd6V\xd9\xde\xde\xfe#\
\xef\xdf\xdd\xdd\xcd\xf6\xa4D\x06B\xe3\x18D\x82\x8c\xdf\
\xc3y\xf6\xe7\xacC\x94\xaf\xfd\xe9\xd3\xa7\x17\x80O\x90\
\x7f\x17\x9f\xa1\x8d\xcf\x07\xb8'\xc1\xb8\x88\x9b%\xde\x16\
c\xeee+\xb2\xdf\xcd\x92\xf3\x18\xe6\x88-\xf7\x12\xc1\
\x22\xc9\x17\xcb\xdf\xbc\xb6T\xecUWJ\xdc\x9f\xd5\xa8\
\xbbu\xef\xbf\xff~0n\x8f*\x1b\x02\xda\x14\xbe\xfe\
\xfa\xeb\xda\x8d\x1b7\xb8f\xb1@\xe6\xaeER\xeeB\
\xe9\xbfrU\xf8\x89\xbd\xf6\xdak\x05\x07\x0e\x1c\x08\xc6\
\x1fME\x06\x8c\xdfmmm\xd5\xf6\xef\xdf\xaf\xbd\xf7\
\xde{ATVV\x12\xb5\xf8\xbbf\xef\xde\xbdoV\
UU-\xfe\xe8\xa3\x8f\xa6WWW\xe7\xe0\xef\x89Q\
\xd6\xecr\x0d6\xcc\xca\xca\x1c\xc3&4a\x9b\xc2\x8f\
?\xfe\xb8\xc8\xe9t*k?\x7f\xfc\xf1\x87v\xe9\xd2\
\xa5\x12\xb3l\x9f/_\xbe\xbc\x88\xfdX2\xe3A\xb8\
\xef\xfc\xf0\xc3\x0f\xda\xcb/\xbf\xacM\x9e<y^v\
vvF\x9dk0\x1a\x09\xfdU\x0e\xfb\xd2T\xf87\
\xd6_WW\x17\xc7>\xd3|\xa716\xcc\x8e\xc4\x7f\
2\xb8y\xf3\xa6VQQ1\xcba\x91D]\x02\xfc\
7&\xa3K\x85\xab?\x97\xcb\xc5}\xaa\x12\x13\x9f\x7f\
6\xc6\xb1^\x95\xfcc\xfc\x9e\xe2\xb0P\x82~v*\
Y\xfb\x8eP@\x1f\x22\x17+\xcd\xe4\x1fzX\xa3*\
\xfe\xef\xdd\xbb\xd7\x16\xcd\x16g<&\xf4\x9f\x95\xaa\xea\
\x0f}?\xd75W\x99\xc9?~\xf3\x8e\xaa\xe7\x87\xfe\
w9\x1d1\xcc\xd3\x990WyS\xa1\xcd\x1f\xf9_\
c\x22\xffEr&\x95\x92\xe7\xc7\xf8u\xc2j\xfc3\
\xd6\xa9B\xfe\xbb\xcc\xe6\x1f\xf8N\xd5\xf3C\x9f<\x96\
\xca\xda\xcc\x18\xd5\x017\x8ca\xfeg\xc8\xfa\x97\xaa\xe7\
g\xfb/\xb0\x18\xff\xebU\xc4\x80\xd6\xf9\x87\xaah&\
\xff\xf4+>\xad\x90\xff3\x89\xec\xc9\x8c\x87\x04\xbe\xd6\
\xab\xf0\x0d\x95d*\xff\xda\x90o\xf9q\x85\xf2{\x01\
\xf7\x9ciA\xfe]*|\xa6q/\xea\x7fkMl\
\xff\x8c/P\xa3\x88\x7f>?u\x89\x22\xab\x8d\xff(\
w\x8f\x82\xf6\x1f\xe4\x1f0\x93\xff)\xf8\xbd\xc3b\x13\
\xa3\x82\xff\xeb\xd1l1m\xfe3\x8b\x7f\xfcV\x0ep\
@\x05\xff\xf2\xfc?\x02s\xad\xd6\xff\x8f\xe1\xf6O\xfe\
\xf7\x8b\xed\x83\x8a\xe7\xb7D\xec\xbfP\xfd_\x1b\x8aw\
\xa3\xa2\xfe\xcc\xd6\xff\xc9\x7f5\x7f[\xd1\xf3\xdf\x01\xe6\
[Q\xffO\xd5\x0fT\xd7\xffM\x9e\xff+\xe1_\x92\
U\xf9\xdf`\xb4!L\xd1\xcf;]\xed_\x95\x0f\xa3\
\xe5\xf8\xd7\xd7\xffR\xb4\xe5\xd3\xff6\xbd\xfd\x03\xd5\x0a\
mQ\xb9\x97d)\xfe\x19\xab.\xdex\x18q\xc4\xce\
\xc8\x18\xfe\x93\xb4e\xb9c5\xfd\xcf\xe3\xf1lQh\
?K\xfe\xcb\xcd\xe4\x7fpp\xf0\x80*\xfe\x19\xcb\xd1\
j\xed\xbf\xbb\xbb\xfb\x03\x156\xd4b?K\xfe\xcb\xcc\
\xe4\xdf\xeb\xf5\xd6\xa8\x92\xdf\xe7\xcf\x9f\xd7Y\x89\x7f\xda\
\x8c655\x9dN\xd5\x86Z\xff.\xea\x8f\xeb\x08\xa5\
f\xf2\xefr\xb9.\xaa\xe2\xbf\xbf\xbf\xbfE\x05\xff\x8c\
\xe7df\x0c\xe0\x14\xea/\xeb\xde\xbd{M\xc9\xfaR\
\x84~Ob\x1a,1\x93\x7f\xa7\xd3\xd9\xa6\xaa\xffz\
\xf2\xe4\x89+Y\xfe%\xd62\xed\xbc\x0b\xf1Z\x04,\
\x00\x16r>\xc1\xbc\xd8\x82g\x94L\x0c\x0c\x0cd\xd3\
\xe69\xd9\x18/\xa1\xa0/\x01d\x7f\xa1Y}\x17m\
5u\xfbe\x15\x89q\x8b\x19\xa3W\xfcO\x8a\x84G\
r7\x8b\xd7\xe4o\xfa\xa7\xcc\x11\xbf\x8bb\xfc]\x02\
\x94\x03\x9b\x81Jm(n\xf5i\xe02p\x0d\xe0\x9e\
\x22cV\xef\x04x\xe6\xeat\xb3\xcfI\x8b\x94*+\
+\x0bh\xf3\xaaj\xff\x9c\xfc\xdf\xb8q\xa3$\xa4]\
L\x14=\x9d{u\xd3\xa4.\xe7H\xbbX(\xbe?\
\xa5\xdaPL\xf0\xd5\x5c?\x965\xe9Pp\x9f\xe2_\
\xc0&`\x0bP\xd1\xdb\xdb[M\xfboU\x89\xbe$\
\x18\xc3\xee\x08w\xdf\x09\xae\x08\x8f7\xc5?\xed.}\
\xd5\xe8_\x85\xd7F\xa0C\xd6\xbd\xf9 \x5cG\xd3c\
T\xfb\xe4Z\x8f\xc1\xc7\x8d\xb2\xb0\x1bX\x94\x09vf\
EEE\x9f\xc7j\xff\x89\xf2\xff\xd6[oi\xd7\xae\
]+\x85\x8c\xaf\xc05\xf2U\xa1\x0d\xc5v\xff\x1c8\
\x05\x5c\xe4>\x9b\xac\xb5\xd4I\xbd\xb4H\x1du\xca\x1a\
RO\x04\xd0_\x901\xc3\x83~\x8f\xe2K\xaf\xd4\x87\
\x91>`Z\x9c1\xa7\xe3L~\x91\x0b\xcaH\x93\xec\
1\x1d\x96\xbe o\xb4\xfbH\xc3\xd9\x0aS\x18\x83\xbe\
\xb3\xb3s\xe6\x993gV|\xfa\xe9\xa7_}\xf6\xd9\
gA?\xbdT\xfc)C\xcf\x80hoo\x0f\xde\x13\
m\x93\xf6\xe0~\x89{\x1b\x1a\xbf=\x90\x00\xc6K\x8c\
\x11\xdd\xdf\xb5E\xfa\x12\xca\x00\xfd\xf2\x92:3\x15\xfd\
T\xb6\xdf\xef\xcf\x05\xf2Q\xef\xd3\x80\x229\xd3s\x0d\
\xb0\x95\xfe\x87\xb8V\x83\xcf]\x00j\x81^\xfag\x1a\
\xcf\xcb\x1a\xeb\xb1\xfa\xc6`\xf2\x8b\x0cp\xdc\xb8D}\
\x81\xfaD\xbcs\x05p8\x11\x1c\x16\x00\xf3\x81\xd5@\
\x05p\x10\xd7\xcf\xe1\xb5\x9eq\x22\xc3\x9d\xe7k\xa7\x8c\
\x93\x81.\xd1#\xa8'\xae\x8dG\x17\x00\xbfS\x80b\
p\xbd\x03s\xde+\xd0}\xdd\xc6\xb3\x8f\xc7K\xfcU\
\x8b$\x8f\x8c\x03\x17\xa5\x0f\x98\x15\x83\xfb|\xa0\xac\xb9\
\xb9\xf9\x02\xfdu\xe9s\xae\x9f{<\x9eb/[(\
\xe9\xb6\x12\xd4\x83y\xa6\xd1\xa2(\xdc\xe7\x91{\xb4\xf5\
\xe3\x9c\xeb\x92\xfbhm\xde\xe6~\xcc\xf0\xdf/s\xa0\
\x93\x9c\xfbF\xe0\x9e\xe7\x9b/\x04\x0e\xa1\xcf\xaf\xe3\x5c\
7V\xbb\xb7\xf9\x1fSc@\x9d\xe8\x00k\x22\xf0_\
\x08l\x03\xce3\xae\x8a\xc4\x0d\xb6\xdb\xfe\xf8\xd1\x03\x1f\
\x08\xff\xabC\xb9\x07\xd7\xd4\xf5\x8b\x81\xcf=\x1e\xcfM\
\xbb\xed\x8fK\xfe\xebdMlY\x98\xb6\xcf\xb9\xfd\x1a\
\xe0twww'\xd7&c\x8d\xfb6\xffc*\xf9\
d\x0ex(\x9c\xcd\x89\xe8\xfcoB\xef\xfb\x8aqU\
\xd8\xf7\xdb\xfc\x8f;\xfd\x8f\xfa\xffv`Z\x84\xb1\x7f\
;\xb8\xbf\xceXg6\xff\xe3\x8e\xff\x0e\x19\xfb\x97\x86\
\x8b\x09\xa7\xf3\x0f\x9c\xe3\x9c\xdf\xe6\x7f\xdc\xf5\xfd\xf7\x01\
\xc6\xde(\x8c2\xef\xdf\x0c\x9c\x85\xee\xd7.g\x06\xd8\
\xfc\x8f\x0f\xbd\x8f{\x9d\x1f\x00EQ\xd6\xfas\xc0\xfd\
*\xe0\x14p\x97\xfa\x9f\xad\xff\x8f\x8b~\x9f{\xdc\x8c\
\x81:7\xda\xbe\x0f\xdf\x03\xdf\xf3\xb8\xbf\x83v\x7f\xcd\
\xedv\xfbb\xad\xf7\xdb2\x90\xf1}>\xe7\xfb\xbb\x80\
\xb8b\x0c\xca^\xdf&\xea\x00<;\xdd\x1e\x032#\
%\x12_\x94m\x16\xa9\x0d8\x06\xac\x02\xf2\x12\xd8\xe3\
\xcf\x92>\xa0\x1a\xbc\xdf\xec\xeb\xeb\xd3\xec>`\xf4\xb9\
M\xe5\x8cx\xfd\x9c\x07\xee\xcf\x0e\x0c\x0c\xdc\x16\xff\x84\
\xd5\x12\xab(+\x09;\x0f\xae\x03-\xe5: \xeeU\
\x8bWW<z\x80-\x03\xa9s\x1f)\xde\xbb!\xb6\
;m\x06\x9d\x18\x9b\xaf\x83\xeb#\xe0\xbc\x02\xd7y\x9e\
\x0fc\xbc/\x16[\xd1\xfcTc?\xcb\xde\xffR\xfc\
\xf6!\x9e\x05\x86\xfb\xf7J\xcc\x1e\xff\x18\x94\x81xl\
\xbet;1\x8f\x9csA\xbbl\x17\xed[P\x0f>\
\x8e\x83\xd4\x87\x89\xd0v\x90\x0a\xef\xbc\x17\xd7\xda\x1e=\
z\xa4\xc3\xd9\xd4\xd4t\xa1\xa5\xa5eo[[\xdb\x9a\
\x8e\x8e\x8e\xf9x\x7f\x9a\xcb\xe5\x9a\x82g\xc8\xe1\xf9\x8c\
D\xb4\xf3\x9bU%\x94\x9b\xf3\x81\xb9\xf8\xad\xed\xf8\xcd\
\xf3@\x87\xe1\x0c\x10\x7f\x94\x188\x01y\xdf'2\xc3\
u'\xdaP\xbaP\x06\x1f\xe5y\x14\xc6\xc6X\xdcR\
\x17\xf2\xc8\x1a\x98S\xc6G\xae\x85\xd3.\xee\x9c6\xb4\
'N\xbf\xbe\xb7\x81\xad\xc0&\x89S\xc0~t%\xca\
^\xfa\xf3\xcf?\x97\xed\xda\xb5\x8bg\x0c(\xb3_\xa4\
\x5c\xed\xdd\xbbW+..\xce\xd8\x18P\xec\x0b\x18[\
\x1fu\xb0\x198$\xe7G\xd2o\xadA\xceyx \
\xe7\x04\x9d\x05\xe8\x1b\xf5!\xb0S\xce \xa0\xaf\xffj\
9\x83bekk\xebF\xc6\xbcW\xcc=e\xabG\
\xd6\xb7\x9aD\xe7\xa5\xcd\xeby\xe08p\x10\xd8\xab\x0d\
\xd9\xc3\xbf\x09\xac\xd3\x86\xce\x80X\x04\xcc\x05fH\x9f\
\x99\x13\xcb.\x0e<\x15\xa0}*\xf3_\xa0m\xc5\xc3\
\x87\x0f+\xc6\x88\xdfv\x16\xedy\xe5,\x90\x85r\xbe\
D\x89\xfc\xad\xfb\x9bD\xb5-E?\x96\xc7~N\xd5\
8\x01\xb9\xa4/\x11\xdb\xecz\xd1u\x97\x19x\x9d\x09\
\x14\x00S\xb8\xde\xa9\xca\x17\xa6\xb1\xb1Q\x99\xfd\xba\xd8\
Um\xb6\x90\xef\xff\x14\x8ck\xfd\x0a\xfd\x7f\xaf\x98\x1d\
?\x0d\xfc\xd7\xaa\xe2\x1f\xfa\x04\xc7\xcaM\x16\xe2?\x0f\
\xfaL}\xac\xb3\xdc\xe3\x8c\xfd\x10\x90X\xbc\xa6\xf2\x8f\
\xf1\xebH\xa2\xe7\xf1F\x89_\xef\xc3\xbd,\xc5?m\
\x89\x15\xb5\x1f\xf2\x7f\xd9l\xfe!\xbf\xdbU\xf1\xcf\xb3\
\x19\xad\xc4?\xf5\x07\xf4y*\xe3'S\x175Uw\
\xc6\xbc{\x9d*\xfey./\xe3\xa1X\x88\xffi\x5c\
[Vx\xfe\xc3W\xf4o5\xb3\x0ch\xb3e\xaa\xf8\
\xc7}z\x18\x0f\xdfB\xfc\xcf\x04.*\xf4\xff\xfc\x0e\
\xf7+4\xb9\x0c\xa5*\xf8\x97\xf5\xbdN`\x9d\x85\xf8\
\xe7\x1e\xe4uU\xfcwww;q\xbf<\x93\xcb\xc0\
uQ_\xaa2 \xfc\xf3\xfc\x9fr\x0b\xf1\xcfs\xc5\
\xef+\xe4\x9f\xfe\xbf\xa6\xf2\x0f\xee\x17\xf1\xdc\xa1D\xcf\
e\x8f\xb0\xc6\xdf\x00\xac\xb4\x10\xffK\x80\x07*\xf9\xaf\
\xae\xae^l2\xff\x0b\x80\xfaT\xcef\x97}\x1d\xba\
\xce\xde\xc7k\x89\x85\xf8/g\x9f\xa7Hwb\xfc\x1c\
m\xf7\xee\xdd\xd7M\xe6\x7f.t\xd8+F\xbf\xf6d\
\x80\xef{8\x16\x9ay~e:\x13\xca\xc9\xbd\xab\x8d\
\x12\xb3-\xa0\x82\x7f\x9e\xff\xbbs\xe7N\xb3\xf9\xe7\x19\
\xd1\xff5\x9e\xbf\x9d\x04\xf7\x9a\x8c!g)OV\xe0\
\x9f\xfb\x89\xb2\x87\xd4\xc1\x18\x1d\xa9\xe8Oz\x1d\xd6\xd7\
\xd7k{\xf6\xecY`2\xff\x8c\x7f\xb1K\xb7\x8fN\
D\x0e\xf4\xcf\x8aMM\x13\xb0\x1f\x98n\xa1\xf6O[\
\x85F\xc0\x9d\x8c\xeed\x1cGY\x877n\xdc\xe0\x19\
\x8a\xd9f\x97\x03XE\xff8>\x83\x1e\xe3$\x92,\
\x18\xaf\xf3\xb3b\xc3\xc1<mu6\x00\xb9\x16\xe1\x9f\
\xfb\x87\x5c;\xb9\x0b8C\xeb)A\xbd\x99g'j\
_~\xf9\xe5I3l!\xc2\x94e\x16\xe4\xee\x8e\xdb\
\xed\x0e\xf2I^\xc3\xc9\x81\x91w\x83\xfd\x0e\xe3>\xf2\
:\xed\xab,\x15\xfb\x17\xbc\xd1\x8e\xe0\x0c\xd0D\xbb\x9a\
du'\xd6'\xfb\xfe\x13'N\xccKS9r\x9a\
\x9b\x9b\xd72\xee\x14c\x90\x91SrK\x8e\xf5>A\
\xe7\xdc\xc8;\xe5\x85\xdc?~\xfc\xb8\x0e\xdc\xaf\x01\xac\
v\xf6\xe74\xe0]\xe06\xd7\xbeX7\xc9\xe8N\xb4\
K=x\xf0\xa0\xf6\xf4\xe9\xd3\xb4\xc55\xc4\xb3\x17\x1c\
9r$\xa8\x83\xe29\x82r@~\xb9\xa7\xaf\xdb\x8a\
\x11\xcc\xeb\xbc\xb3\xcf\xfa\xed\xb7\xdf\xf8\xfa\x06ch9\
,\x96D\x07\xe0\xfa\xe9i\x99\xfbv\xa1\x1e\xfd\x89\xe8\
O\xb4\x99\xfa\xfa\xeb\xaf\xb5\x1d;v\x94\xa5\xbb<x\
\xf6\xc2\xc6\xc6\xc6M\xe0\xb4\x9dsQ\xca%9\xa6<\
\xe8`\x9e\xd7\x9dH\x90\x81c(\xc3:`\x86\xc3\xa2\
\x09e/\x04\x97o\x88M\xe1\x1d\x99\x0f\xd0\xd6\xd2\x17\
\xaa?\x19\xc7P\xf6\x15hO>\xd4\xe9i\xe4\x8b3\
\xa8<y\x5c\x13B\x1b\xdf\xd2\xd6\xd6F\xdb\xcd`\x9f\
\xc0\xd8\xae|\xed\xee\xee\xbe\x89\xfe\x9fv\xb4[9\xd7\
\xe7\xfc\xc1a\xe1D\x1b;\x80\xb1\x03\xb7q\xfe\xcb5\
\x10\x80\xebi]\xb43\xa6,P7\xd0\xc7M\xb6w\
\xfc\xdd\x8fz\xe3Zi\x0d\xd7\xdf\x19\xa7&\xd3t[\
\xa0\x00\x98\x83g^\xf6\xed\xb7\xdf\xee\xbez\xf5\xea\x1e\
<\xf7Z\x5c+\xa5\x9eG\xb9g\xff\xe7\xb0\x93>\x17\
\x98\xc5\xbdO\xe0(p\x8e\xe7\xaasL\x10Yh\x22\
\xd0\xa6\xdad\xbepI\xf4\x06\xee\x1fdt\x1dB6\
9?\xe49\x11\xb9\x84\xe4'\xda\xac\x87\xed\x07\x0a$\
\x86(\xc7\x83\x7f\x03\xc7E78+\xf3\x04\xca\xc6n\
\xee\x91\x00\x19\x13\xc7\xdaN\xca\xd7S(\x07\x8cK\xca\
\xf1\xb1Tt\xc4%\x5c\x1b\x959C\x8e]S\xd6\x18\
\x17D\x1e\x08\xbb\xad\xdb\xc9Nv\xb2\x93\x9d\xecd'\
;\xd9\xc9N\x8aR\x5c\xfe\x95UAo\xab\xa9z\xbe\
5\xf8W\xdf\x04=\xbfor\xf0\xea\xf0\xbd\x1c\x93\xf8\
\xffUG\x95\xb8i9\x82\x9f\xdc\xe7X\xae\xe7\x1d#\
\xf2\x83Cy\x87\xe3\x95\xf0y\xaf\x83wz\x91H~\
y\xe2\xf9\xc1h\xf9\xaa\x14\xf3Z\xe2\xdf\xf7F\xcb/\
\x8f\x92\xaf\x0a\xfe5\xc4.\xcb1\xb9u\x04\xdd\xad#\
\xe8_\x0e\x9a\x8ci*h1\xa6\xc9\x9a#j~\xd2\
\x8b\xe8\xf9\x09\xa1\xf9\xc1\x18\xef'\x98\x9f\xa4E\xcfO\
\x0e)\xcf\xd4\x90\xf2\xbe\xf2\x8f\xfa\xf0\xca\xf5\xabR\x7f\
z\xcdz\x87\x1b\xcb`\x88|\x0c\xe7\x97\xc7\x97\x7fa\
\xe7\x13\xaa/C\xfe\xea\xff\xf3^]\xc0\xf9\xd7\xac\xff\
\xf3\x8b\x8ei\x04\xff\xf2\xc1\xe1\xfc`\x88\xbc\xb4\x86\xe4\
G\xca\xcb\x04-A\xf9\x1cL,?)F~rH\
~j\x8c\xfc\xf2\x90\xe7\xa9z\x11R\x9c\x91\xe5\xa9\xd2\
\x8c\xe5\x9d0\xd4\x8d\x0f\xfd\xb0\xde\x9fx\x83\x8f\xfcJ\
r|\x19\xf2/\xcc\xcc\xbf\x12#\xbf<8\xbe\x84\xe6\
\xab\x22\xe6\xab\x82\xe3\x956,\xbf\xc1\xfc\x04m\xc4x\
\xd6:ix\xfc\x0b\xbe\xe3\x1d\x1e/\xf7M\x1a9\x9e\
^\x9d:2\xdf\xb7<}Aq\xfe\x07\x97\xc0T\x8d\
\
"

qt_resource_name = b"\
\x00\x03\
\x00\x00p7\
\x00i\
\x00m\x00g\
\x00\x0b\
\x0a\xb8V\x7f\
\x00f\
\x00a\x00v\x00i\x00c\x00o\x00n\x00.\x00i\x00c\x00o\
"

qt_resource_struct = b"\
\x00\x00\x00\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x01\
\x00\x00\x00\x00\x00\x00\x00\x00\
\x00\x00\x00\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x02\
\x00\x00\x00\x00\x00\x00\x00\x00\
\x00\x00\x00\x0c\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\
\x00\x00\x01\x90\xea\x5c\xcb%\
"

qRegisterResourceData(0x03, qt_resource_struct, qt_resource_name, qt_resource_data)

class Button(QPushButton):
    style_sheet = ''
    color = (255, 255, 255)
    opacity = 0

    def __init__(self, parent, row, column):
        super().__init__(parent)
        self.setFixedSize(100, 100)
        self.setFlat(True)
        self.row = row
        self.column = column

    @property
    def sign(self):
        return self.opacity*3 // 255
    
    @sign.setter
    def sign(self, sign:int):
        self.opacity = sign*255 // 3
        self.style_update()

    def style_update(self):
        color = f'color: rgba{(*self.color, self.opacity)};'
        self.setStyleSheet(self.style_sheet + color)

class ButtonQueue(list[Button]):
    def __init__(self):
        super().__init__()
    
    def append(self, button:Button):
        super().insert(0, button)
        for i in range(len(self)):
            button = self[i]
            sign = 3 - i
            if not sign:
                Wrapper.clear(self.pop())
            else:
                button.sign = sign

class Wrapper:
    text = ''
    style = 'font-size: 40px;'
    color = (255, 255, 255)

    def apply(self, button:Button):
        button.setText(self.text)
        button.color = self.color
        button.style_sheet = self.style
        button.style_update()
    
    @staticmethod
    def clear(button:Button):
        Wrapper().apply(button)
        button.sign = 0

class Player(Wrapper):

    def __init__(self, index):
        self.index = index
        self.queue = ButtonQueue()

    def apply(self, button:Button):
        super().apply(button)
        self.queue.append(button)

class PlayerGroup:
    players = (Player(0), Player(1))
    _index = 0

    @property
    def index(self):
        index = self._index
        self._index = 0 if index else 1
        return index

    @property
    def queue(self):
        return self.player(0).queue + self.player(1).queue

    def player(self, index:int):
        return self.players[index]

    def apply(self, button:Button):
        player = self.players[self.index]
        player.apply(button)


class Board:
    gaming = True
    broad = [[None for _ in range(3)] for _ in range(3)] #type: list[list[Button]]

    def __init__(self):
        self.mode = self.get_mode()
        app = QApplication()
        frame = QMainWindow()
        frame.setWindowTitle('Tic Tac Toe')
        frame.setGeometry(100, 100, 400, 400)
        frame.setFixedSize(400, 400)
        frame.setWindowIcon(QIcon(':/img/favicon.ico'))
        center = QWidget(frame)
        frame.setCentralWidget(center)
        grid = QGridLayout(center)
        for row in range(3):
            for column in range(3):
                button = Button(frame, row, column)
                self.broad[row][column] = button
                button.clicked.connect(lambda *x, b=button: self.emit(b))
                grid.addWidget(button, row, column)
        frame.show()
        if self.mode % 2:
            self.choose(0).animateClick()
        app.exec()

    def restart(self):
        self.gaming = True
        for button in self.buttons:
            button.setFlat(True)
            Wrapper.clear(button)
        for player in default.players:
            player.queue.clear()
        default._index = 0
        if self.mode % 2:
            self.choose(0).animateClick()

    def get(self, row:int, column:int):
        return self.broad[row][column]

    def row(self, row:int):
        return self.broad[row]

    @property
    def rows(self):
        return self.broad

    def column(self, column:int):
        return [self.get(row, column) for row in range(3)]

    @property
    def columns(self):
        return [self.column(i) for i in range(3)]

    def diagonal(self, diagonal:int|bool):
        return [self.get(i, 2 - i) for i in range(3)] if diagonal else [self.get(i, i) for i in range(3)]

    @property
    def diagonals(self):
        return [self.diagonal(0), self.diagonal(1)]

    @property
    def probables(self):
        return self.rows + self.columns + self.diagonals

    @property
    def empty(self):
        return [b for b in self.buttons if not b.sign]

    @property
    def buttons(self) -> list[Button]:
        buttons = []
        for r in range(3):
            for b in self.row(r):
                buttons.append(b)
        return buttons

    def emit(self, button:Button):
        if self.gaming:
            if button in default.queue:
                return
            default.apply(button)
            if self.judge():
                return
            index = default._index
            if index != self.mode and self.mode != 2:
                self.choose(index).animateClick()
        else:
            self.restart()

    def choose(self, index:int) -> Button:
        result = None
        myqueue = default.player(index).queue
        opqueue = default.player(1-index).queue
        if len(myqueue) > 1:
            result = self.choose_infront(myqueue)
        if not result and len(opqueue) > 1:
            result = self.choose_infront(opqueue)
        if not result and len(myqueue) > 2:
            result = self.choose_infront([myqueue[-1], opqueue[0]])
        if not result and len(opqueue) > 2:
            result = self.choose_infront([opqueue[-1], myqueue[0]])
        if not result:
            prolist = []
            try:
                prolist += self.find_probables(myqueue[0])
            except: ...
            try:
                prolist += self.find_probables(opqueue[-1])
            except: ...
            if prolist:
                result = choice(prolist)
            else:
                result = choice(self.empty)
        return result

    def choose_infront(self, queue:ButtonQueue):
        for p in self.probables:
            front = {b for b in queue if b.sign > 1}
            pro = set(p)
            if front.issubset(pro):
                result = (pro-front).pop()
                if result.sign:
                    continue
                return result
                        
    def choose_probables(self, button:Button):
        return choice(self.find_probables(button))

    def find_probables(self, button:Button):
        prolist = []
        bset = {button}
        for p in self.probables:
            pset = set(p)
            if bset.issubset(pset):
                for button in pset-bset:
                    if not button.sign:
                        prolist.append(button)
        return prolist

    def judge(self):
        for player in default.players:
            if sorted(player.queue, key=lambda b:(b.row, b.column)) in self.probables:
                self.gaming = False
                winner = default.player(player.index)
                for button in winner.queue:
                    button.setFlat(False)
                    button.sign = 3
                    super(Player, winner).apply(button)
                if self.mode == 3:
                    self.restart()
                return True
        return False

    def get_mode(self):
        ini = \
'''mode = 0
# 0: single player (first hand)
# 1: single player (last hand)
# 2: multiplayer
# 3: auto
'''

        try:
            raw = open('mode.ini').readline()
            value = raw.split('=')[-1].split('#')[0].strip()
            mode = int(value)
        except:
            open('mode.ini', 'w').write(ini)
            mode = 0
        return mode

default = PlayerGroup()

player1 = default.player(0)
player1.text = '〇'
player1.style = 'font: 700 70px;'
player1.color = (0, 255, 0)

player2 = default.player(1)
player2.text = '⨯'
player2.style = 'font-size: 100px; padding-bottom : 15px;'
player2.color = (255, 0, 0)


Board()
